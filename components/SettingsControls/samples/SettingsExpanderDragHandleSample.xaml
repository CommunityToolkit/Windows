<Page x:Class="SettingsControlsExperiment.Samples.SettingsExpanderDragHandleSample"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:controls="using:CommunityToolkit.WinUI.Controls"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:local="using:SettingsControlsExperiment.Samples"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      mc:Ignorable="d">

    <!--
        Enabled the List view to drag its items and reorder them around,
        plus need SelectionMode None so the indicator doesn't appear when clicking on the drag region
    -->
    <ListView AllowDrop="True"
              CanDragItems="True"
              CanReorderItems="True"
              ItemsSource="{x:Bind MyDataSet}"
              SelectionMode="None">
        <ListView.ItemTemplate>
            <DataTemplate x:DataType="local:ExpandedCardInfo">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <!--  Provide a custom area that can be manipulated by the user  -->
                    <!--  TODO: Show how to highlight this on hover with a behavior  -->
                    <Border Width="18"
                            Margin="1,1,0,1"
                            Padding="0"
                            VerticalAlignment="Stretch"
                            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            CornerRadius="{ThemeResource ControlCornerRadius}">
                        <TextBlock HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   FontFamily="Segoe UI Symbol"
                                   FontSize="16"
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                   Opacity="0.5"
                                   Text="&#x283F;" />
                    </Border>
                    <controls:SettingsExpander Grid.Column="1"
                                               Description="{x:Bind Info}"
                                               Header="{x:Bind Name}">

                        <ToggleSwitch OffContent="Off"
                                      OnContent="On" />

                        <controls:SettingsExpander.Items>
                            <controls:SettingsCard Header="{x:Bind LinkDescription}">
                                <HyperlinkButton Content="{x:Bind Url}"
                                                 NavigateUri="{x:Bind Url}" />
                            </controls:SettingsCard>
                        </controls:SettingsExpander.Items>
                    </controls:SettingsExpander>
                </Grid>
            </DataTemplate>
        </ListView.ItemTemplate>
        <ListView.ItemContainerStyle>
            <Style BasedOn="{StaticResource DefaultListViewItemStyle}"
                   TargetType="ListViewItem">
                <Setter Property="Margin" Value="0" />
                <Setter Property="Padding" Value="4" />
            </Style>
        </ListView.ItemContainerStyle>
        <!--  Hides the overall highlight from the ListView Container  -->
        <ListView.Resources>
            <SolidColorBrush x:Key="ListViewItemBackgroundPointerOver"
                             Color="Transparent" />
        </ListView.Resources>
    </ListView>
</Page>
